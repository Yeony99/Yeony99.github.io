{"componentChunkName":"component---src-templates-blog-post-js","path":"/tech/react-pattern-singleton","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"frontmatter":{"category":"tech","slug":"/tech/react-pattern-singleton","tags":["ë¦¬ì•¡íŠ¸ íŒ¨í„´"],"date":"2022-09-18","img":null,"title":"ë¦¬ì•¡íŠ¸ íŒ¨í„´ - ì‹±ê¸€í†¤ íŒ¨í„´"},"html":"<h2 id=\"ì‹œë¦¬ì¦ˆë¥¼-ì‹œì‘í•˜ë©°\" style=\"position:relative;\">ì‹œë¦¬ì¦ˆë¥¼ ì‹œì‘í•˜ë©°...<a href=\"#%EC%8B%9C%EB%A6%AC%EC%A6%88%EB%A5%BC-%EC%8B%9C%EC%9E%91%ED%95%98%EB%A9%B0\" aria-label=\"ì‹œë¦¬ì¦ˆë¥¼ ì‹œì‘í•˜ë©° permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p><a href=\"https://www.patterns.dev/\">patterns</a>ì— ì •ë¦¬ëœ ë¦¬ì•¡íŠ¸ í”„ë¡œì íŠ¸ íŒ¨í„´ì„ ê³µë¶€í•˜ë©° ì •ë¦¬í•˜ëŠ” ê¸€ì„ì„ ì•Œë¦½ë‹ˆë‹¤.<br>\nì‹œë¦¬ì¦ˆ ë‚´ ëª¨ë“  ê¸€ì˜ ì¶œì²˜ëŠ” ìœ„ ì‚¬ì´íŠ¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•©ë‹ˆë‹¤.</p>\n<p>ë³„ë„ ì°¸ê³  ìë£Œê°€ ìˆì„ ì‹œ í•´ë‹¹ ìë£Œì˜ ì¶œì²˜ë§Œ ê¸°ì¬í•©ë‹ˆë‹¤.</p>\n<br/>\n<hr>\n<h2 id=\"ë””ìì¸-íŒ¨í„´ì´ë€\" style=\"position:relative;\">ë””ìì¸ íŒ¨í„´ì´ë€<a href=\"#%EB%94%94%EC%9E%90%EC%9D%B8-%ED%8C%A8%ED%84%B4%EC%9D%B4%EB%9E%80\" aria-label=\"ë””ìì¸ íŒ¨í„´ì´ë€ permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>ë””ìì¸ íŒ¨í„´ì€ ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ ê³¼ì •ì—ì„œ ë°œìƒí•˜ëŠ” ë¬¸ì œì— í•´ê²°ì±…ì„ ì œì‹œí•˜ëŠ” ê°œë…ì…ë‹ˆë‹¤. êµ¬í˜„ì„ ì§ì ‘ì ìœ¼ë¡œ ì œê³µí•˜ì§€ëŠ” ì•Šì§€ë§Œ, ë¬¸ì œ ìƒí™©ì„ ìµœì í™”ëœ ë°©ë²•ìœ¼ë¡œ í•´ê²°í•  ìˆ˜ ìˆë„ë¡ ë•ëŠ” ì»¨ì…‰ì…ë‹ˆë‹¤.\r\n<br/></p>\n<hr>\n<h2 id=\"ì‹±ê¸€í†¤-íŒ¨í„´-singleton-pattern\" style=\"position:relative;\">ì‹±ê¸€í†¤ íŒ¨í„´ (Singleton Pattern)<a href=\"#%EC%8B%B1%EA%B8%80%ED%86%A4-%ED%8C%A8%ED%84%B4-singleton-pattern\" aria-label=\"ì‹±ê¸€í†¤ íŒ¨í„´ singleton pattern permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>ì‹±ê¸€í†¤ì€ <strong>ë‹¨ í•œ ë²ˆë§Œ ì¸ìŠ¤í„´ìŠ¤í™” ê°€ëŠ¥</strong>í•˜ë©°, <strong>ì „ì—­(global)</strong> ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥í•œ í´ë˜ìŠ¤ë¥¼ ì¼ì»«ìŠµë‹ˆë‹¤. <i>Singleton ì¸ìŠ¤í„´ìŠ¤</i>ëŠ” ì•± ì „ì—­ì—ì„œ ê³µìœ ë˜ì–´, ì•± ì „ì—­ ìƒíƒœê´€ë¦¬ì— ì í•©í•©ë‹ˆë‹¤.\r\n<br/></p>\n<h3 id=\"ë‹¨-í•œ-ë²ˆë§Œ-ì¸ìŠ¤í„´ìŠ¤í™”-ê°€ëŠ¥\" style=\"position:relative;\">ë‹¨ í•œ ë²ˆë§Œ ì¸ìŠ¤í„´ìŠ¤í™” ê°€ëŠ¥<a href=\"#%EB%8B%A8-%ED%95%9C-%EB%B2%88%EB%A7%8C-%EC%9D%B8%EC%8A%A4%ED%84%B4%EC%8A%A4%ED%99%94-%EA%B0%80%EB%8A%A5\" aria-label=\"ë‹¨ í•œ ë²ˆë§Œ ì¸ìŠ¤í„´ìŠ¤í™” ê°€ëŠ¥ permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>ì´ ë§ì˜ ì˜ë¯¸ëŠ” <code class=\"language-text\">new</code> í‚¤ì›Œë“œë¡œ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ì„ ì—¬ëŸ¬ ë²ˆ í•˜ì§€ ëª»í•œë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤.</p>\n<p>ì¼ë°˜ì ì¸ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ë°©ë²•ì€ ì´ë ‡ìŠµë‹ˆë‹¤.</p>\n<deckgo-highlight-code language=\"javascript\" terminal=\"carbon\" theme=\"blackboard\"  >\n          <code slot=\"code\">let counter = 0\r\n\r\nclass Counter {\r\n  getInstance() {\r\n    return this\r\n  }\r\n\r\n  getCount() {\r\n    return counter\r\n  }\r\n\r\n  increment() {\r\n    return ++counter\r\n  }\r\n\r\n  decrement() {\r\n    return --counter\r\n  }\r\n}\r\n\r\nconst counter1 = new Counter()\r\nconst counter2 = new Counter()\r\n\r\nconsole.log(counter1.getInstance() === counter2.getInstance()) // false</code>\n        </deckgo-highlight-code>\n<p>ì´ë ‡ê²Œ <code class=\"language-text\">new</code> í‚¤ì›Œë“œë¡œ ìƒì„±í•œ ì¸ìŠ¤í„´ìŠ¤ëŠ” ì„œë¡œ ê°™ì§€ ì•ŠìŒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¸ìŠ¤í„´ìŠ¤ê°€ ë‹¤ë¥´ë‹¤ëŠ” ê²ƒì€ ê°™ì€ ë ˆí¼ëŸ°ìŠ¤ë¥¼ ê°€ì§€ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤.</p>\n<p>ê·¸ë ‡ë‹¤ë©´ ë™ì¼í•œ ë ˆí¼ëŸ°ìŠ¤ë¥¼ ê°€ì§€ê²Œ í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•˜ë©´ ë ê¹Œìš”? ì—¬ëŸ¬ ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤.</p>\n<h4 id=\"instance-ë³€ìˆ˜-ë§Œë“¤ê¸°\" style=\"position:relative;\">instance ë³€ìˆ˜ ë§Œë“¤ê¸°<a href=\"#instance-%EB%B3%80%EC%88%98-%EB%A7%8C%EB%93%A4%EA%B8%B0\" aria-label=\"instance ë³€ìˆ˜ ë§Œë“¤ê¸° permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<deckgo-highlight-code language=\"javascript\" terminal=\"carbon\" theme=\"blackboard\"  >\n          <code slot=\"code\">let instance // instance ë³€ìˆ˜ ì„ ì–¸\r\nlet counter = 0\r\n\r\nclass Counter {\r\n  constructor() {\r\n    if (instance) {\r\n      // instanceê°€ ì¡´ì¬í•˜ë©´ ì—ëŸ¬ ë°œìƒì‹œí‚¤ê¸°\r\n      throw new Error(&quot;ì¸ìŠ¤í„´ìŠ¤ëŠ” í•œ ë²ˆë§Œ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤!&quot;)\r\n    }\r\n  }\r\n\r\n  getInstance() {\r\n    return this\r\n  }\r\n\r\n  getCount() {\r\n    return counter\r\n  }\r\n\r\n  increment() {\r\n    return ++counter\r\n  }\r\n\r\n  decrement() {\r\n    return --counter\r\n  }\r\n}\r\n\r\nconst singletonCounter = Object.freeze(new Counter())\r\n// const counter2 = new Counter() // ì—ëŸ¬ ë°œìƒ</code>\n        </deckgo-highlight-code>\n<p><code class=\"language-text\">constructor</code> ìƒì„±ìì— ê°ì²´ ì´ˆê¸°í™”ì‹œ instanceê°€ ì´ë¯¸ ìˆëŠ”ì§€ ì—¬ë¶€ë¥¼ í™•ì¸í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  <code class=\"language-text\">Object.freeze</code>ë¥¼ í†µí•´ ê°ì²´ë¥¼ ìˆ˜ì •í•  ìˆ˜ ì—†ê²Œ í•©ë‹ˆë‹¤.</p>\n<p>ì¸ìŠ¤í„´ìŠ¤ë¥¼ í•˜ë‚˜ë§Œ ë§Œë“¤ê²Œ ê°•ì œí•˜ëŠ” ë°©ì‹ì—ëŠ” ì¥ë‹¨ì ì´ ìˆìŠµë‹ˆë‹¤.</p>\n<ul>\n<li>ì¥ì \n<ul>\n<li>ë©”ëª¨ë¦¬ ê³µê°„ ì ˆì•½</li>\n</ul>\n</li>\n<li>ë‹¨ì \n<ul>\n<li>ìë°”ìŠ¤í¬ë¦½íŠ¸ ì–¸ì–´ ìì²´ì˜ í•œê³„ì ì´ ìˆë‹¤. í´ë˜ìŠ¤ ì‘ì„± ì—†ì´ë„ ê°ì²´ë¥¼ ë§Œë“¤ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì¼ì¢…ì˜ ì˜¤ë²„ ì—”ì§€ë‹ˆì–´ë§ì— í•´ë‹¹</li>\n<li>JSì—ì„œ ì‹±ê¸€í†¤ì€ ì•ˆí‹°íŒ¨í„´ìœ¼ë¡œ ì·¨ê¸‰ë¨</li>\n</ul>\n</li>\n</ul>\n<p>ìœ„ì˜ ì˜ˆì œëŠ” <code class=\"language-text\">class</code>ë¡œ ê°ì²´ë¥¼ ìƒì„±í•´ ì»¨íŠ¸ë¡¤í•˜ì˜€ëŠ”ë°, ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ê·¸ëƒ¥ <code class=\"language-text\">const counter = {}</code> ë¼ëŠ” ê°„ë‹¨í•œ í• ë‹¹ìœ¼ë¡œ ê°ì²´ ë¦¬í„°ëŸ´ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ìœ„ì™€ ê°™ì€ íŒ¨í„´ì€ ì í•©í•˜ì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤.</p>\n<h3 id=\"ê°ì²´-ë¦¬í„°ëŸ´-ì‚¬ìš©\" style=\"position:relative;\">ê°ì²´ ë¦¬í„°ëŸ´ ì‚¬ìš©<a href=\"#%EA%B0%9D%EC%B2%B4-%EB%A6%AC%ED%84%B0%EB%9F%B4-%EC%82%AC%EC%9A%A9\" aria-label=\"ê°ì²´ ë¦¬í„°ëŸ´ ì‚¬ìš© permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<deckgo-highlight-code language=\"javascript\" terminal=\"carbon\" theme=\"blackboard\"  >\n          <code slot=\"code\">let count = 0\r\n\r\nconst counter = {\r\n  increment() {\r\n    return ++count\r\n  },\r\n\r\n  decrement() {\r\n    return --count\r\n  },\r\n}\r\n\r\nObject.freeze(counter)</code>\n        </deckgo-highlight-code>\n<p><code class=\"language-text\">class</code>ë¡œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒë³´ë‹¤ í›¨ì”¬ ê°„í¸í•˜ë‹¤ê³  ëŠê»´ì§‘ë‹ˆë‹¤.</p>\n<h3 id=\"í…ŒìŠ¤íŒ…\" style=\"position:relative;\">í…ŒìŠ¤íŒ…<a href=\"#%ED%85%8C%EC%8A%A4%ED%8C%85\" aria-label=\"í…ŒìŠ¤íŒ… permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>ì‹±ê¸€í†¤ íŒ¨í„´ìœ¼ë¡œ êµ¬í˜„ëœ ì½”ë“œë¥¼ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê²ƒì€ ì¡°ê¸ˆ ê¹Œë‹¤ë¡­ë‹¤ê³  í•©ë‹ˆë‹¤. ì¸ìŠ¤í„´ìŠ¤ë¥¼ í•œ ë²ˆë§Œ ìƒì„±í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì—, ì´ì „ì— ìƒì„±ëœ ì „ì—­ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìˆ˜ì •í•˜ëŠ” ë°©í–¥ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ê°€ ì§„í–‰ë©ë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ ì§„í–‰ì— ìˆœì„œê°€ ìƒê¸°ê²Œ ë˜ë©´ ì´ì „ í…ŒìŠ¤íŠ¸ì—ì„œ ì‚¬ìš©ëœ ê°’ì´ ë‚¨ì•„ìˆì–´ ì›í™œíˆ ì§„í–‰ë˜ì§€ ëª»í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p>ë”°ë¼ì„œ í•˜ë‚˜ì˜ í…ŒìŠ¤íŠ¸ê°€ ëë‚˜ë©´ ì¸ìŠ¤í„´ìŠ¤ ë³€ê²½ì‚¬í•­ë“¤ì„ ì´ˆê¸°í™”í•œ í›„ ë‹¤ìŒ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•©ë‹ˆë‹¤.</p>\n<p>patternsì—ì„œëŠ” í…ŒìŠ¤íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ <strong>jest</strong> ë¥¼ ì‚¬ìš©í•œ ì˜ˆì œë¥¼ ì œê³µí•˜ì˜€ìŠµë‹ˆë‹¤.</p>\n<deckgo-highlight-code language=\"javascript\" terminal=\"carbon\" theme=\"blackboard\"  >\n          <code slot=\"code\">// í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•  ì¸ìŠ¤í„´ìŠ¤ ë¶ˆëŸ¬ì˜¤ê¸°\r\nimport Counter from &quot;../src/counterTest&quot;\r\n\r\ntest(&quot;incrementing 1 time should be 1&quot;, () =&gt; {\r\n  Counter.increment()\r\n  expect(Counter.getCount()).toBe(1)\r\n})\r\n\r\ntest(&quot;incrementing 3 extra times should be 4&quot;, () =&gt; {\r\n  Counter.increment()\r\n  Counter.increment()\r\n  Counter.increment()\r\n  expect(Counter.getCount()).toBe(4)\r\n})\r\n\r\ntest(&quot;decrementing 1  times should be 3&quot;, () =&gt; {\r\n  Counter.decrement()\r\n  expect(Counter.getCount()).toBe(3)\r\n})</code>\n        </deckgo-highlight-code>\n<!-- ì¶”ê°€) js test, test libraries -->\n<br/>\n<hr>\n<h2 id=\"ë¦¬ì•¡íŠ¸ì˜-ìƒíƒœê´€ë¦¬\" style=\"position:relative;\">ë¦¬ì•¡íŠ¸ì˜ ìƒíƒœê´€ë¦¬<a href=\"#%EB%A6%AC%EC%95%A1%ED%8A%B8%EC%9D%98-%EC%83%81%ED%83%9C%EA%B4%80%EB%A6%AC\" aria-label=\"ë¦¬ì•¡íŠ¸ì˜ ìƒíƒœê´€ë¦¬ permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Reactë¥¼ ì‚¬ìš©í•˜ë©° ì „ì—­ ìƒíƒœ ê´€ë¦¬ê°€ í•„ìš”í•  ë•Œì—ëŠ” ì‹±ê¸€í†¤ ê°ì²´ë¥¼ ë§Œë“¤ê¸°ë³´ë‹¤ <strong>Redux</strong>ë‚˜ <strong>React Context</strong>ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>\n<p>ì‹±ê¸€í†¤ ê°ì²´ê°€ ì¸ìŠ¤í„´ìŠ¤ ê°’ì„ ì§ì ‘ ìˆ˜ì •í•  ìˆ˜ ìˆë‹¤ë©´, ìœ„ ë‘ ê°€ì§€ ë„êµ¬ëŠ” <strong>read only</strong> ìƒíƒœë¥¼ ê°–ë„ë¡ í•©ë‹ˆë‹¤. ë””ìŠ¤íŒ¨ì²˜ => (ì•¡ì…˜) => ì‹¤í–‰ => ìˆœìˆ˜í•¨ìˆ˜ reducer => ìƒíƒœ ì—…ë°ì´íŠ¸ë¡œ ì´ë¤„ì§€ëŠ” ê³¼ì •ì€ ê°œë°œìê°€ ì˜ë„í•œëŒ€ë¡œë§Œ ì „ì—­ ìƒíƒœê°€ ì›€ì§ì´ë„ë¡ ê·¸ íë¦„ê³¼ ì œì–´ë¥¼ ëª…í™•íˆ í•œë‹¤ëŠ” ì¥ì ì´ ìˆìŠµë‹ˆë‹¤.</p>\n<!-- â—¾ [ë³€ìˆ˜ ëª…ëª… ê·œì¹™](/tech/let-me-know-js-a-bit-js-variable-naming) ğŸ‘ˆ ì´ì „ ê¸€ ë³´ê¸°    -->","internal":{"content":"\r\n## ì‹œë¦¬ì¦ˆë¥¼ ì‹œì‘í•˜ë©°...\r\n\r\n[patterns](https://www.patterns.dev/)ì— ì •ë¦¬ëœ ë¦¬ì•¡íŠ¸ í”„ë¡œì íŠ¸ íŒ¨í„´ì„ ê³µë¶€í•˜ë©° ì •ë¦¬í•˜ëŠ” ê¸€ì„ì„ ì•Œë¦½ë‹ˆë‹¤.  \r\nì‹œë¦¬ì¦ˆ ë‚´ ëª¨ë“  ê¸€ì˜ ì¶œì²˜ëŠ” ìœ„ ì‚¬ì´íŠ¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•©ë‹ˆë‹¤.\r\n\r\në³„ë„ ì°¸ê³  ìë£Œê°€ ìˆì„ ì‹œ í•´ë‹¹ ìë£Œì˜ ì¶œì²˜ë§Œ ê¸°ì¬í•©ë‹ˆë‹¤.\r\n\r\n<br/>\r\n\r\n---\r\n\r\n## ë””ìì¸ íŒ¨í„´ì´ë€\r\n\r\në””ìì¸ íŒ¨í„´ì€ ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ ê³¼ì •ì—ì„œ ë°œìƒí•˜ëŠ” ë¬¸ì œì— í•´ê²°ì±…ì„ ì œì‹œí•˜ëŠ” ê°œë…ì…ë‹ˆë‹¤. êµ¬í˜„ì„ ì§ì ‘ì ìœ¼ë¡œ ì œê³µí•˜ì§€ëŠ” ì•Šì§€ë§Œ, ë¬¸ì œ ìƒí™©ì„ ìµœì í™”ëœ ë°©ë²•ìœ¼ë¡œ í•´ê²°í•  ìˆ˜ ìˆë„ë¡ ë•ëŠ” ì»¨ì…‰ì…ë‹ˆë‹¤.\r\n<br/>\r\n\r\n---\r\n## ì‹±ê¸€í†¤ íŒ¨í„´ (Singleton Pattern)\r\n\r\nì‹±ê¸€í†¤ì€ **ë‹¨ í•œ ë²ˆë§Œ ì¸ìŠ¤í„´ìŠ¤í™” ê°€ëŠ¥**í•˜ë©°, **ì „ì—­(global)** ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥í•œ í´ë˜ìŠ¤ë¥¼ ì¼ì»«ìŠµë‹ˆë‹¤. <i>Singleton ì¸ìŠ¤í„´ìŠ¤</i>ëŠ” ì•± ì „ì—­ì—ì„œ ê³µìœ ë˜ì–´, ì•± ì „ì—­ ìƒíƒœê´€ë¦¬ì— ì í•©í•©ë‹ˆë‹¤.\r\n<br/>\r\n\r\n### ë‹¨ í•œ ë²ˆë§Œ ì¸ìŠ¤í„´ìŠ¤í™” ê°€ëŠ¥\r\n\r\nì´ ë§ì˜ ì˜ë¯¸ëŠ” `new` í‚¤ì›Œë“œë¡œ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ì„ ì—¬ëŸ¬ ë²ˆ í•˜ì§€ ëª»í•œë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤.\r\n\r\nì¼ë°˜ì ì¸ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ë°©ë²•ì€ ì´ë ‡ìŠµë‹ˆë‹¤.\r\n\r\n```javascript\r\nlet counter = 0\r\n\r\nclass Counter {\r\n  getInstance() {\r\n    return this\r\n  }\r\n\r\n  getCount() {\r\n    return counter\r\n  }\r\n\r\n  increment() {\r\n    return ++counter\r\n  }\r\n\r\n  decrement() {\r\n    return --counter\r\n  }\r\n}\r\n\r\nconst counter1 = new Counter()\r\nconst counter2 = new Counter()\r\n\r\nconsole.log(counter1.getInstance() === counter2.getInstance()) // false\r\n```\r\n\r\nì´ë ‡ê²Œ `new` í‚¤ì›Œë“œë¡œ ìƒì„±í•œ ì¸ìŠ¤í„´ìŠ¤ëŠ” ì„œë¡œ ê°™ì§€ ì•ŠìŒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¸ìŠ¤í„´ìŠ¤ê°€ ë‹¤ë¥´ë‹¤ëŠ” ê²ƒì€ ê°™ì€ ë ˆí¼ëŸ°ìŠ¤ë¥¼ ê°€ì§€ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤.\r\n\r\nê·¸ë ‡ë‹¤ë©´ ë™ì¼í•œ ë ˆí¼ëŸ°ìŠ¤ë¥¼ ê°€ì§€ê²Œ í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•˜ë©´ ë ê¹Œìš”? ì—¬ëŸ¬ ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤.\r\n\r\n#### instance ë³€ìˆ˜ ë§Œë“¤ê¸°\r\n\r\n```javascript\r\nlet instance // instance ë³€ìˆ˜ ì„ ì–¸\r\nlet counter = 0\r\n\r\nclass Counter {\r\n  constructor() {\r\n    if (instance) {\r\n      // instanceê°€ ì¡´ì¬í•˜ë©´ ì—ëŸ¬ ë°œìƒì‹œí‚¤ê¸°\r\n      throw new Error(\"ì¸ìŠ¤í„´ìŠ¤ëŠ” í•œ ë²ˆë§Œ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤!\")\r\n    }\r\n  }\r\n\r\n  getInstance() {\r\n    return this\r\n  }\r\n\r\n  getCount() {\r\n    return counter\r\n  }\r\n\r\n  increment() {\r\n    return ++counter\r\n  }\r\n\r\n  decrement() {\r\n    return --counter\r\n  }\r\n}\r\n\r\nconst singletonCounter = Object.freeze(new Counter())\r\n// const counter2 = new Counter() // ì—ëŸ¬ ë°œìƒ\r\n```\r\n\r\n`constructor` ìƒì„±ìì— ê°ì²´ ì´ˆê¸°í™”ì‹œ instanceê°€ ì´ë¯¸ ìˆëŠ”ì§€ ì—¬ë¶€ë¥¼ í™•ì¸í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  `Object.freeze`ë¥¼ í†µí•´ ê°ì²´ë¥¼ ìˆ˜ì •í•  ìˆ˜ ì—†ê²Œ í•©ë‹ˆë‹¤.\r\n\r\nì¸ìŠ¤í„´ìŠ¤ë¥¼ í•˜ë‚˜ë§Œ ë§Œë“¤ê²Œ ê°•ì œí•˜ëŠ” ë°©ì‹ì—ëŠ” ì¥ë‹¨ì ì´ ìˆìŠµë‹ˆë‹¤.\r\n\r\n- ì¥ì \r\n  - ë©”ëª¨ë¦¬ ê³µê°„ ì ˆì•½\r\n- ë‹¨ì \r\n  - ìë°”ìŠ¤í¬ë¦½íŠ¸ ì–¸ì–´ ìì²´ì˜ í•œê³„ì ì´ ìˆë‹¤. í´ë˜ìŠ¤ ì‘ì„± ì—†ì´ë„ ê°ì²´ë¥¼ ë§Œë“¤ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì¼ì¢…ì˜ ì˜¤ë²„ ì—”ì§€ë‹ˆì–´ë§ì— í•´ë‹¹\r\n  - JSì—ì„œ ì‹±ê¸€í†¤ì€ ì•ˆí‹°íŒ¨í„´ìœ¼ë¡œ ì·¨ê¸‰ë¨\r\n\r\nìœ„ì˜ ì˜ˆì œëŠ” `class`ë¡œ ê°ì²´ë¥¼ ìƒì„±í•´ ì»¨íŠ¸ë¡¤í•˜ì˜€ëŠ”ë°, ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ê·¸ëƒ¥ `const counter = {}` ë¼ëŠ” ê°„ë‹¨í•œ í• ë‹¹ìœ¼ë¡œ ê°ì²´ ë¦¬í„°ëŸ´ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ìœ„ì™€ ê°™ì€ íŒ¨í„´ì€ ì í•©í•˜ì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤.\r\n\r\n### ê°ì²´ ë¦¬í„°ëŸ´ ì‚¬ìš©\r\n\r\n```javascript\r\nlet count = 0\r\n\r\nconst counter = {\r\n  increment() {\r\n    return ++count\r\n  },\r\n\r\n  decrement() {\r\n    return --count\r\n  },\r\n}\r\n\r\nObject.freeze(counter)\r\n```\r\n\r\n`class`ë¡œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒë³´ë‹¤ í›¨ì”¬ ê°„í¸í•˜ë‹¤ê³  ëŠê»´ì§‘ë‹ˆë‹¤.\r\n\r\n### í…ŒìŠ¤íŒ…\r\n\r\nì‹±ê¸€í†¤ íŒ¨í„´ìœ¼ë¡œ êµ¬í˜„ëœ ì½”ë“œë¥¼ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê²ƒì€ ì¡°ê¸ˆ ê¹Œë‹¤ë¡­ë‹¤ê³  í•©ë‹ˆë‹¤. ì¸ìŠ¤í„´ìŠ¤ë¥¼ í•œ ë²ˆë§Œ ìƒì„±í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì—, ì´ì „ì— ìƒì„±ëœ ì „ì—­ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìˆ˜ì •í•˜ëŠ” ë°©í–¥ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ê°€ ì§„í–‰ë©ë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ ì§„í–‰ì— ìˆœì„œê°€ ìƒê¸°ê²Œ ë˜ë©´ ì´ì „ í…ŒìŠ¤íŠ¸ì—ì„œ ì‚¬ìš©ëœ ê°’ì´ ë‚¨ì•„ìˆì–´ ì›í™œíˆ ì§„í–‰ë˜ì§€ ëª»í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\r\n\r\në”°ë¼ì„œ í•˜ë‚˜ì˜ í…ŒìŠ¤íŠ¸ê°€ ëë‚˜ë©´ ì¸ìŠ¤í„´ìŠ¤ ë³€ê²½ì‚¬í•­ë“¤ì„ ì´ˆê¸°í™”í•œ í›„ ë‹¤ìŒ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•©ë‹ˆë‹¤.\r\n\r\npatternsì—ì„œëŠ” í…ŒìŠ¤íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ **jest** ë¥¼ ì‚¬ìš©í•œ ì˜ˆì œë¥¼ ì œê³µí•˜ì˜€ìŠµë‹ˆë‹¤.\r\n\r\n```javascript\r\n// í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•  ì¸ìŠ¤í„´ìŠ¤ ë¶ˆëŸ¬ì˜¤ê¸°\r\nimport Counter from \"../src/counterTest\"\r\n\r\ntest(\"incrementing 1 time should be 1\", () => {\r\n  Counter.increment()\r\n  expect(Counter.getCount()).toBe(1)\r\n})\r\n\r\ntest(\"incrementing 3 extra times should be 4\", () => {\r\n  Counter.increment()\r\n  Counter.increment()\r\n  Counter.increment()\r\n  expect(Counter.getCount()).toBe(4)\r\n})\r\n\r\ntest(\"decrementing 1  times should be 3\", () => {\r\n  Counter.decrement()\r\n  expect(Counter.getCount()).toBe(3)\r\n})\r\n```\r\n\r\n<!-- ì¶”ê°€) js test, test libraries -->\r\n\r\n<br/>\r\n\r\n---\r\n\r\n## ë¦¬ì•¡íŠ¸ì˜ ìƒíƒœê´€ë¦¬\r\n\r\nReactë¥¼ ì‚¬ìš©í•˜ë©° ì „ì—­ ìƒíƒœ ê´€ë¦¬ê°€ í•„ìš”í•  ë•Œì—ëŠ” ì‹±ê¸€í†¤ ê°ì²´ë¥¼ ë§Œë“¤ê¸°ë³´ë‹¤ **Redux**ë‚˜ **React Context**ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.\r\n\r\nì‹±ê¸€í†¤ ê°ì²´ê°€ ì¸ìŠ¤í„´ìŠ¤ ê°’ì„ ì§ì ‘ ìˆ˜ì •í•  ìˆ˜ ìˆë‹¤ë©´, ìœ„ ë‘ ê°€ì§€ ë„êµ¬ëŠ” **read only** ìƒíƒœë¥¼ ê°–ë„ë¡ í•©ë‹ˆë‹¤. ë””ìŠ¤íŒ¨ì²˜ => (ì•¡ì…˜) => ì‹¤í–‰ => ìˆœìˆ˜í•¨ìˆ˜ reducer => ìƒíƒœ ì—…ë°ì´íŠ¸ë¡œ ì´ë¤„ì§€ëŠ” ê³¼ì •ì€ ê°œë°œìê°€ ì˜ë„í•œëŒ€ë¡œë§Œ ì „ì—­ ìƒíƒœê°€ ì›€ì§ì´ë„ë¡ ê·¸ íë¦„ê³¼ ì œì–´ë¥¼ ëª…í™•íˆ í•œë‹¤ëŠ” ì¥ì ì´ ìˆìŠµë‹ˆë‹¤.\r\n\r\n<!-- â—¾ [ë³€ìˆ˜ ëª…ëª… ê·œì¹™](/tech/let-me-know-js-a-bit-js-variable-naming) ğŸ‘ˆ ì´ì „ ê¸€ ë³´ê¸°    -->\r\n"},"tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EC%8B%9C%EB%A6%AC%EC%A6%88%EB%A5%BC-%EC%8B%9C%EC%9E%91%ED%95%98%EB%A9%B0\">ì‹œë¦¬ì¦ˆë¥¼ ì‹œì‘í•˜ë©°...</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%94%94%EC%9E%90%EC%9D%B8-%ED%8C%A8%ED%84%B4%EC%9D%B4%EB%9E%80\">ë””ìì¸ íŒ¨í„´ì´ë€</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%8B%B1%EA%B8%80%ED%86%A4-%ED%8C%A8%ED%84%B4-singleton-pattern\">ì‹±ê¸€í†¤ íŒ¨í„´ (Singleton Pattern)</a></p>\n<ul>\n<li>\n<p><a href=\"#%EB%8B%A8-%ED%95%9C-%EB%B2%88%EB%A7%8C-%EC%9D%B8%EC%8A%A4%ED%84%B4%EC%8A%A4%ED%99%94-%EA%B0%80%EB%8A%A5\">ë‹¨ í•œ ë²ˆë§Œ ì¸ìŠ¤í„´ìŠ¤í™” ê°€ëŠ¥</a></p>\n<ul>\n<li><a href=\"#instance-%EB%B3%80%EC%88%98-%EB%A7%8C%EB%93%A4%EA%B8%B0\">instance ë³€ìˆ˜ ë§Œë“¤ê¸°</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EA%B0%9D%EC%B2%B4-%EB%A6%AC%ED%84%B0%EB%9F%B4-%EC%82%AC%EC%9A%A9\">ê°ì²´ ë¦¬í„°ëŸ´ ì‚¬ìš©</a></p>\n</li>\n<li>\n<p><a href=\"#%ED%85%8C%EC%8A%A4%ED%8C%85\">í…ŒìŠ¤íŒ…</a></p>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%A6%AC%EC%95%A1%ED%8A%B8%EC%9D%98-%EC%83%81%ED%83%9C%EA%B4%80%EB%A6%AC\">ë¦¬ì•¡íŠ¸ì˜ ìƒíƒœê´€ë¦¬</a></p>\n</li>\n</ul>"}}]}},"pageContext":{"slug":"/tech/react-pattern-singleton"}},"staticQueryHashes":["2665612806"]}