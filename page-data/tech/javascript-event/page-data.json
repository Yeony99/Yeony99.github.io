{"componentChunkName":"component---src-templates-blog-post-js","path":"/tech/javascript-event","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"frontmatter":{"category":"tech","slug":"/tech/javascript-event","tags":["JS"],"date":"2023-01-18","img":null,"title":"자바스크립트 이벤트 전파"},"excerpt":"event event는 흔히 어떤 이벤트가 있었다 라고 말할 때와 마찬가지로, 무언가가 일어났다는 신호다. DOM에서 사용되는 이벤트는 종류가 다양한데, 여기서는 간단하게  이벤트 하나로 말해보고자 한다. DOM event API 모든 DOM…","html":"<h2 id=\"event\" style=\"position:relative;\">event<a href=\"#event\" aria-label=\"event permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>event는 흔히 <em>어떤 이벤트가 있었다</em> 라고 말할 때와 마찬가지로, 무언가가 일어났다는 신호다.</p>\n<p><strong>DOM</strong>에서 사용되는 이벤트는 종류가 다양한데, 여기서는 간단하게 <code class=\"language-text\">click</code> 이벤트 하나로 말해보고자 한다.</p>\n<h3 id=\"dom-event-api\" style=\"position:relative;\">DOM event API<a href=\"#dom-event-api\" aria-label=\"dom event api permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>모든 DOM 노드는 이벤트를 전달할 수 있다. 이런 이벤트에 반응하려면, 이벤트를 트리거한 DOM 요소에 <strong>event handler</strong>를 연결해야 한다. <code class=\"language-text\">button</code>에 <code class=\"language-text\">click</code> 이벤트를 트리거하기까지의 과정은 이러하다.</p>\n<ol>\n<li><code class=\"language-text\">button</code> 렌더링</li>\n<li><code class=\"language-text\">button</code>을 click</li>\n<li><code class=\"language-text\">click</code> 이벤트 전달</li>\n<li><code class=\"language-text\">click</code> 이벤트 캡쳐</li>\n<li><code class=\"language-text\">click</code> 이벤트 반응 - 버블링</li>\n</ol>\n<p>이벤트가 DOM 트리 상에서 흐르는 것을 이벤트 전파(event propagation)라고 한다.</p>\n<hr>\n<h3 id=\"dom-event-lifecycle\" style=\"position:relative;\">DOM event LifeCycle<a href=\"#dom-event-lifecycle\" aria-label=\"dom event lifecycle permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>이벤트 전파 과정을 이해하기 위해서 DOM 이벤트의 lifecycle을 살펴봤다.</p>\n<p>버튼을 <code class=\"language-text\">click</code>했을 때의 과정은 이렇게 진행된다.</p>\n<ol>\n<li>캡쳐 단계: 이벤트가 html에서 목표 요소(=트리거 된 요소)로 이동한다.</li>\n<li>목표 단계: 이벤트가 목표 요소에 도달한다.</li>\n<li>버블 단계: 이벤트가 목표 요소에서 html로 이동한다.</li>\n</ol>\n<p><img src=\"https://user-images.githubusercontent.com/76241233/213095265-3c312441-6efb-4679-8866-6e94b5297970.png\" alt=\"이벤트 전파\"></p>\n<p><code class=\"language-text\">button</code>이 target이기 때문에 DOM tree를 따라 해당 타깃까지 내려간 후, 이벤트가 버블링되어 다시 최상단까지 DOM tree를 타고 올라온다.\r\n이런 현상이 발생하는 이유는, 이벤트는 window, document, html ... target element 이런 식으로 부모와 자식 관계를 유지하기 때문이다.</p>\n<p>button의 부모가 div라면 button을 클릭할 때 div도 함께 클릭되는 것이다.</p>\n<p>아래의 모던 JavaScript 튜토리얼의 예시를 보면, form > div > p 태그 순서대로 DOM tree가 있다.<br>\n<strong>p</strong>를 클릭해보면 <code class=\"language-text\">this</code>는 <em>form</em>이고, <code class=\"language-text\">target</code>은 <em>p</em> 인 것을 확인할 수 있다. 이벤트가 걸린 곳은 form이기에 this는 항상 form이고, target은 form의 자손 혹은 본인이 될 수 있다.</p>\n<iframe width=\"100%\" height=\"210px\" src=\"https://ko.javascript.info/article/bubbling-and-capturing/bubble-target/\"></iframe>\n<ul>\n<li><strong>event.target</strong> : 실제 이벤트가 실행되는 요소.</li>\n<li><strong>this</strong> : '현재' 요소. 이벤트 핸들러가 할당된 요소.</li>\n</ul>\n<h4 id=\"event-bubbling\" style=\"position:relative;\">Event Bubbling<a href=\"#event-bubbling\" aria-label=\"event bubbling permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>이렇듯 한 요소에 이벤트가 발생하면,</p>\n<ol>\n<li>해당 요소에 이벤트 핸들러가 작동하고</li>\n<li>부모 요소의 이벤트 핸들러가 작동하고</li>\n<li>해당 부모 요소의 부모 ...</li>\n<li>최상단 조상 노드의 이벤트 핸들러 작동</li>\n</ol>\n<p>이렇게 작동하게 된다. 이 현상을 이벤트 버블링이라고 한다.</p>\n<h4 id=\"event-capturing\" style=\"position:relative;\">Event Capturing<a href=\"#event-capturing\" aria-label=\"event capturing permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>여기서 <code class=\"language-text\">capture</code>는 MDN의 문서를 참고하면 이해하기 쉽다.</p>\n<p><a href=\"https://developer.mozilla.org/ko/docs/Web/API/EventTarget/addEventListener\">MDN - EventTarget.addEventListener</a> 를 보면, <code class=\"language-text\">addEventListener</code>의 3번째 매개변수가 <strong>useCapture</strong> 인 것을 볼 수 있다.</p>\n<p>Event Bubbling과는 반대 순서로 이뤄지는 개념으로, 조상 Node에서 자식 순으로 이벤트가 <code class=\"language-text\">Capture</code>된다.</p>\n<p><img src=\"https://user-images.githubusercontent.com/76241233/213103759-2e5858fd-4382-4e8d-b965-46290380e2de.gif\" alt=\"event-capturing-bubbling\"></p>\n<h4 id=\"이벤트-전파를-막는-방법\" style=\"position:relative;\">이벤트 전파를 막는 방법<a href=\"#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EC%A0%84%ED%8C%8C%EB%A5%BC-%EB%A7%89%EB%8A%94-%EB%B0%A9%EB%B2%95\" aria-label=\"이벤트 전파를 막는 방법 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>target element에서 발생한 이벤트가 부모, 조상 노드까지 영향을 끼치게 된다. 이벤트를 컨트롤 할 때 이런 현상을 방지하는 것도 필요하다.</p>\n<deckgo-highlight-code language=\"javascript\" terminal=\"carbon\" theme=\"blackboard\"  >\n          <code slot=\"code\">...\r\nevent.stopPropagation();\r\n...</code>\n        </deckgo-highlight-code>\n<p><code class=\"language-text\">event.stopPropagation()</code> 메소드를 사용해 원하는 곳에서 이벤트 전파를 차단할 수 있다.</p>\n<p>버블링 시에는 타깃에서만 이벤트가 발생되게 하고, 캡처링 시에는 타깃 기준으로 최상단에서만 이벤트가 발생하게 한다.</p>\n<h2 id=\"참고\" style=\"position:relative;\">참고<a href=\"#%EC%B0%B8%EA%B3%A0\" aria-label=\"참고 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p><a href=\"https://ko.javascript.info/events\">https://ko.javascript.info/events</a><br>\n도서 &#x3C;모던 자바스크립트 Deep Dive></p>","internal":{"content":"\r\n## event\r\n\r\nevent는 흔히 *어떤 이벤트가 있었다* 라고 말할 때와 마찬가지로, 무언가가 일어났다는 신호다. \r\n\r\n**DOM**에서 사용되는 이벤트는 종류가 다양한데, 여기서는 간단하게 `click` 이벤트 하나로 말해보고자 한다.\r\n\r\n### DOM event API\r\n\r\n모든 DOM 노드는 이벤트를 전달할 수 있다. 이런 이벤트에 반응하려면, 이벤트를 트리거한 DOM 요소에 **event handler**를 연결해야 한다. `button`에 `click` 이벤트를 트리거하기까지의 과정은 이러하다.\r\n\r\n1. `button` 렌더링\r\n2. `button`을 click\r\n3. `click` 이벤트 전달\r\n4. `click` 이벤트 캡쳐\r\n5. `click` 이벤트 반응 - 버블링\r\n\r\n이벤트가 DOM 트리 상에서 흐르는 것을 이벤트 전파(event propagation)라고 한다.\r\n\r\n---\r\n\r\n### DOM event LifeCycle\r\n\r\n이벤트 전파 과정을 이해하기 위해서 DOM 이벤트의 lifecycle을 살펴봤다.\r\n\r\n버튼을 `click`했을 때의 과정은 이렇게 진행된다.\r\n\r\n1. 캡쳐 단계: 이벤트가 html에서 목표 요소(=트리거 된 요소)로 이동한다.\r\n2. 목표 단계: 이벤트가 목표 요소에 도달한다.\r\n3. 버블 단계: 이벤트가 목표 요소에서 html로 이동한다.\r\n\r\n![이벤트 전파](https://user-images.githubusercontent.com/76241233/213095265-3c312441-6efb-4679-8866-6e94b5297970.png)\r\n\r\n`button`이 target이기 때문에 DOM tree를 따라 해당 타깃까지 내려간 후, 이벤트가 버블링되어 다시 최상단까지 DOM tree를 타고 올라온다. \r\n이런 현상이 발생하는 이유는, 이벤트는 window, document, html ... target element 이런 식으로 부모와 자식 관계를 유지하기 때문이다. \r\n\r\nbutton의 부모가 div라면 button을 클릭할 때 div도 함께 클릭되는 것이다.\r\n\r\n아래의 모던 JavaScript 튜토리얼의 예시를 보면, form > div > p 태그 순서대로 DOM tree가 있다.   \r\n**p**를 클릭해보면 `this`는 *form*이고, `target`은 *p* 인 것을 확인할 수 있다. 이벤트가 걸린 곳은 form이기에 this는 항상 form이고, target은 form의 자손 혹은 본인이 될 수 있다.\r\n\r\n<iframe width=\"100%\" height=\"210px\" src=\"https://ko.javascript.info/article/bubbling-and-capturing/bubble-target/\"></iframe>\r\n\r\n* **event.target** : 실제 이벤트가 실행되는 요소.\r\n* **this** : '현재' 요소. 이벤트 핸들러가 할당된 요소.\r\n\r\n#### Event Bubbling\r\n\r\n이렇듯 한 요소에 이벤트가 발생하면, \r\n1. 해당 요소에 이벤트 핸들러가 작동하고\r\n2. 부모 요소의 이벤트 핸들러가 작동하고\r\n3. 해당 부모 요소의 부모 ...\r\n4. 최상단 조상 노드의 이벤트 핸들러 작동\r\n\r\n이렇게 작동하게 된다. 이 현상을 이벤트 버블링이라고 한다. \r\n\r\n#### Event Capturing\r\n\r\n여기서 `capture`는 MDN의 문서를 참고하면 이해하기 쉽다.\r\n\r\n[MDN - EventTarget.addEventListener](https://developer.mozilla.org/ko/docs/Web/API/EventTarget/addEventListener) 를 보면, `addEventListener`의 3번째 매개변수가 **useCapture** 인 것을 볼 수 있다.\r\n\r\nEvent Bubbling과는 반대 순서로 이뤄지는 개념으로, 조상 Node에서 자식 순으로 이벤트가 `Capture`된다. \r\n\r\n![event-capturing-bubbling](https://user-images.githubusercontent.com/76241233/213103759-2e5858fd-4382-4e8d-b965-46290380e2de.gif)\r\n\r\n\r\n#### 이벤트 전파를 막는 방법\r\n\r\ntarget element에서 발생한 이벤트가 부모, 조상 노드까지 영향을 끼치게 된다. 이벤트를 컨트롤 할 때 이런 현상을 방지하는 것도 필요하다.\r\n\r\n```javascript\r\n...\r\nevent.stopPropagation();\r\n...\r\n```\r\n\r\n`event.stopPropagation()` 메소드를 사용해 원하는 곳에서 이벤트 전파를 차단할 수 있다.\r\n\r\n버블링 시에는 타깃에서만 이벤트가 발생되게 하고, 캡처링 시에는 타깃 기준으로 최상단에서만 이벤트가 발생하게 한다.\r\n\r\n\r\n## 참고\r\n\r\nhttps://ko.javascript.info/events   \r\n도서 <모던 자바스크립트 Deep Dive>"},"tableOfContents":"<ul>\n<li>\n<p><a href=\"#event\">event</a></p>\n<ul>\n<li>\n<p><a href=\"#dom-event-api\">DOM event API</a></p>\n</li>\n<li>\n<p><a href=\"#dom-event-lifecycle\">DOM event LifeCycle</a></p>\n<ul>\n<li><a href=\"#event-bubbling\">Event Bubbling</a></li>\n<li><a href=\"#event-capturing\">Event Capturing</a></li>\n<li><a href=\"#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EC%A0%84%ED%8C%8C%EB%A5%BC-%EB%A7%89%EB%8A%94-%EB%B0%A9%EB%B2%95\">이벤트 전파를 막는 방법</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%B0%B8%EA%B3%A0\">참고</a></p>\n</li>\n</ul>"}}]}},"pageContext":{"slug":"/tech/javascript-event"}},"staticQueryHashes":["2665612806"]}